---
abbrlink: ''
author: GDLKWAKEUP
categories:
- - projects
date: ''
tags:
- diffusion policy
- isaaclab
- 具身智能
title: 具身智能项目复现第一弹—利用isaaclab平台实现的基于duffsion policy的机械臂三维PUSHT任务
updated: '2026-01-07T23:25:25.532+08:00'
---
### 一、 起因：我不做嵌入式了，JOJO！

**好吧，我也不是不做嵌入式了。只是觉得，光让电机转起来还不够，得让它“聪明”地转起来。**

**具身智能（Embodied AI）听起来很高大上，其实翻译成人话就是：给机器人装个脑子。为了练手，我选了一个经典的“幼儿园”任务：Pick-and-Place（抓取与归位）。简单说，就是让机械臂把一个红色的 T 型积木，推到绿色的目标坑里去。**

**听起来很简单对吧？我当时也是这么想的。后来我发现，我太天真了。**

### 二、 仿真环境：物理引擎教我做人

**第一步是造一个虚拟世界。我打开了 Blender，感觉自己就是上帝。**
桌子？画！机械臂？拖！红方块？捏！

**一顿操作猛如虎，导入 Isaac Sim 一看：**

```
穿模：机械臂基座直接“种”在了桌子里，拔都拔不出来。

物理爆炸：T 型物体像个弹力球一样在桌子上鬼畜乱跳。
```

**💡 血泪经验：**
兄弟们，Blender 里的 Ctrl+A (Apply Scale) 是真的要按啊！你不应用缩放，物理引擎眼里的方块和你眼里的方块根本不是一个东西。还有，碰撞体（Collider）千万别用 Convex Hull（凸包），不然 T 型物体的那个“腋下”会被填平，机械臂根本卡不进去！改成 Convex Decomposition（凸分解）才救了我一命。

### 三、 数据采集：把仿真玩成《赛博朋克 2077》

**为了教机器人干活，我得先示范给它看。**
一开始我试图用键盘 WASD 控制机械臂……那手感，就像是用筷子夹豆腐，还是在帕金森发作的情况下。

**果断换上了 Xbox 手柄。**
写了个 Python 脚本，左摇杆推拉，右摇杆旋转，LT/RT 升降。
哎，这就舒服了！为了让机械臂更听话，我还在 IK 控制器里加了\*\*“零空间姿态锁定”\*\*——简单说就是告诉它：“手没动的时候，胳膊肘别瞎扭！”

**我就这样在电脑前坐了一下午，玩了 50 多把“推箱子”。**

```
成功：48 次。

失败：2 次（推嗨了，把方块推地底下去了）。
```

### 四、 炼丹（训练）：手搓 Dataset 的快乐你想象不到

**到了最头秃的环节了。我选了斯坦福大名鼎鼎的 Diffusion Policy。**
本以为只要改改 Config 就能跑，结果一运行：
KeyError: 'obs', RuntimeError: Unsupported, Shape Mismatch……

**报错红得像过年一样。**

**原来，官方的加载器根本读不懂我录的数据格式。**
既然官方的不行，那我就自己造！
我硬着头皮，参考着源代码，手搓了一个 IsaacDataset 类（是的，就是那个 RobomimicReplayImageDataset 的魔改版）。

```
它能自动识别我 Zarr 文件里的 img_global 和 img_wrist。

它能把 7 个关节角度和 1 个夹爪宽度拼成 8 维向量。

它还能给图像数据自动发“身份证”（Identity Normalizer），防止归一化报错。
```

**当我按下 python train.py，看到终端里出现进度条，并且 Loss 开始狂降的那一刻，我感觉我就是炼丹之神！**

### 五、 见证奇迹：它动了！它真的动了！

**训练了147个 Epoch，显卡风扇呼啸了 3 个小时。**
我写了个推理脚本，把模型加载回 Isaac Sim。

**第一次测试：**
T 型块出现在左下角。
机械臂犹豫了一下（模型正在去噪），然后丝滑地移动过去，张开夹爪，调整角度，“啪” 地一下按住方块，稳稳地把它推到了绿色标记里。

**那一刻的成就感，比我不看手册配好 STM32 的时钟树还要爽十倍！**
六、 总结：路漫漫其修远兮

**这个项目让我明白了一件事：Sim2Real 不仅仅是跑通算法，更多的是在解决工程问题。**
从 Blender 的单位换算，到 Python 的依赖冲突，再到 PyTorch 的张量维度对齐，每一个环节都是坑。

**但好在，坑都填平了。**
这就是我的“具身智能”第一课。只要\*\*Passion（热情）还在，只要Patience（耐心）\*\*足够，就没有跑不通的代码！

开源链接：[https://github.com/GDLKWAKEUP/Isaac-Diffusion-PushT](https://)
